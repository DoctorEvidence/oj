<!DOCTYPE html>  <html> <head>   <title>monad.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="div.html">                 div.js               </a>                                           <a class="source" href="span.html">                 span.js               </a>                                           <a class="source" href="factory.html">                 factory.js               </a>                                           <a class="source" href="globalAttributes.html">                 globalAttributes.js               </a>                                           <a class="source" href="wrapper.html">                 wrapper.js               </a>                                           <a class="source" href="function.html">                 function.js               </a>                                           <a class="source" href="is.html">                 is.js               </a>                                           <a class="source" href="monad.html">                 monad.js               </a>                                           <a class="source" href="number.html">                 number.js               </a>                                           <a class="source" href="object.html">                 object.js               </a>                                           <a class="source" href="string.html">                 string.js               </a>                                           <a class="source" href="to.html">                 to.js               </a>                                           <a class="source" href="bindings.html">                 bindings.js               </a>                                           <a class="source" href="console.html">                 console.js               </a>                                           <a class="source" href="vow.html">                 vow.js               </a>                                           <a class="source" href="oj.html">                 oj.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               monad.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>monad.js
Douglas Crockford
2013-01-26</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Public Domain</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>The MONAD function is a macroid that produces monad constructor functions.
It can take an optional modifier function, which is a function that is
allowed to modify new monads at the end of the construction processes.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>A monad constructor (sometimes called 'unit' or 'return' in some mythologies)
comes with three methods, lift, lift_value, and method, all of which can add
methods and properties to the monad's prototype.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>A monad has a 'bind' method that takes a function that receives a value and
is usually expected to return a monad.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>var identity = MONAD();
   var monad = identity("Hello world.");
   monad.bind(alert);</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>var ajax = MONAD()
       .lift('alert', alert);
   var monad = ajax("Hello world.");
   monad.alert();</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>var maybe = MONAD(function (monad, value) {
       if (value === null || value === undefined) {
           monad.is_null = true;
           monad.bind = function () {
               return monad;
           };
           return null;
       }
       return value;
   });
   var monad = maybe(null);
   monad.bind(alert);    // Nothing happens.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Each unit constructor has a monad prototype. The prototype will contain an
is_monad property for classification, as well as all inheritable methods.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Each call to MONAD will produce a new unit constructor function.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Construct a new monad.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>In some mythologies 'bind' is called 'pipe' or '>>='.
The bind method will deliver the unit's value parameter to a function.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>bind takes a function and an optional array of arguments. It calls that
function passing the monad's value and bind's optional array of args.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>With ES6, this horrible return statement can be replaced with</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <pre><code>     return func(value, ...args);
</code></pre>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>If MONAD's modifier parameter is a function, then call it, passing the monad
and the value.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Return the shiny new monad.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>Add a method to the prototype.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>Add a method to the prototype that calls bind with the func. This can be
used for ajax methods that return values other than monads.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>Add a method to the prototye that calls bind with the func. If the value
returned by the func is not a monad, then make a monad.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 